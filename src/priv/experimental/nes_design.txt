OVERVIEW
========
The basic idea comes from the famous thread "material/shader system" on gamedev 
forum:
  - Each effect is a c++ class (bunch of code) that user don't know its 
    implementation detail. It could be treated as general processing unit. 
  - Effect class accepts 2 kinds of inputs: 1) buffer, 2) const
    - Buffer stores vertex and pixel data.
    - Buffer can hold both GPU and CPU data.
    - Pixel buffer can havel sub buffers:
      - Each mipmap of a top-level texture can be a independant sub texture
        - sub textures can't have mipmaps.
      - Each face of a cube texture can have a 2D texture.
      - Each slice of a 3D texture can be a 2D texture.
    - Consts are pure CPU data.

RESOLVED ISSUES
===============
- Is effect ID compiled-time constant?
  - yes
  - pros:
    - less error prone: can do compile time check.
  - cons: runtime creation of new effect is impossible.

OPEN ISSUES
===========
- Is it possible to create multiple instances of single effect? Each instance 
  holds everything it needs. like:
  - create a shadow effect instance, it holds its own shadow map buffers.
- Still need a better buffer management mechanism
- Is it beneficial to group different types of constants into single buffer?
  - Check D3D10 constant buffer for more ideas.
- Is it possible to use meta data to describe interface of a effect class? Then 
  use an script to generate the c++ class interface.
  - pros: not rely on complicate compiler tricks.
  - cons: not easy for quick prototyping of new effects.

RESOLVED USER SCENARIOS
=======================
- one shader output a 2D texture that is used as input of another shader that 
  requires 3D texture:
- one shader output a 2D texture that is used by many-many of other shaders.
- 2 draws use same shader. the 1st draw render to texture; the second draw 
  to back buffer.
- render to one face of a cubemap, or one slice of a 3D texture, or one mipmap 
  level of a 2D texture:
- adjust effect behavior from outside, like: switching existing effects to
  double-depth mode.
  - bad design. Effect should be self-contain.
- separate depth and stencil buffer.
  - user won't need this in recent future.
- Adjust global quality parameter (like texture filtering), to increase overall
  rendering quality.
  - bad design. effects should control quality by themselves.

OPENED USER SCENARIOS
=====================
- user creates too many render targets that can't fit into hardware's local
  memory (like EDRAM)
  - may be resolved by lazy creation
  - check CPU "register renaming" and "buffer renaming" in graphics driver for
    more ideas.
- shader get data from general CPU data buffer.
  - read vertices from fat vertex buffer
  - read DXT texture from uncompressed texture
  - read cubemap from 6 2D textures
