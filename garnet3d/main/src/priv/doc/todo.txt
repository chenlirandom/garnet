- 程序中标注TODO的地方

- to make a simple game, like terris clone:
  - load effect/shader from xml file: done
  - load mesh
  - simple GUI
  - task manager/coordinator

- p1
  - refactor high-level texture/effect/mesh resource management
    - on the top: the renderable class
      - consist of effect, meshs, textures and uniforms.
      - rendering code should be as simple as calling renderable::draw()
    - resource ID used only on loading, all other places use pointer directly.
    - support uniform sharing: think about DX10 constant buffer.
    - support template and referencing in effect and renderable XML file.
    - support external shader file in effect XML definition.
  - memory pool class is not looking good
    - when call dtor and when not?
    - see others pool implementation on net
  - try multi-thread architect
    - multi-thread wrapper for platform-independency
    - separate sim() and render() loop
    - File loader in another thread.
  - GFX renderer
    - double-check matrix major confusion.
    - set sampling parameters (such as filters wrapping) at binding time
    - render target management
      - D3D: msaa
      - OGL: FBO with AA
    - recreate OGL context, when monitor changed.
  - code page convertor and test application
    - may support convertion from/to utf8 be enough?
  - mesh class
  - blender exporter/importer
  - in-game GUI system
    - font class
    - textbox class
  - refine sigslot class to allow any type of functor

- p2
  - skin mesh test case: porting DXSDK sample.
  - UT
    - array classes
    - LRU list in resource manager
    - make sure OGL resource creation/deletion do not affect renderer states
    - format conversion between ClrFmt and D3DFMT
  - memory-mapped file.
  - GFX system
    - queryXXX(....)
    - support using "c0" as uniform name of D3D HLSL shader.
    - consider remove drawBegin() and drawEnd()
    - renderer state dump system
    - add support to OGL FSAA
    - Cg shader
    - consider removing syscopy from vertex/index buffer
      - remove sys-copy of VBO.
    - Why D3D quad renderer is so slow, comparing with CEGUI sample application.
    - support render-to-texture on xenon (including depth texture)
    - test: IDirect3DDevice9::UpdateTexture() when target is render target texture.
    - learn EXT_framebuffer_object, ARB_draw_buffer, ARB_pixel_buffer_object
    - shared uniform

- p3
  - new build system:
    - two steps:
      - compiler configuration script, called by setupEnv.cmd/setupEnv.sh
      - build script
  - support to multiple joysticks.
  - image format conversion
  - try implementing a ray tracer
  - check doxygen errors and warnings.
  - Custom sscanf(...)
  - cross-platform window util functions:
    - set window title
    - change window size
    - ...
  - runtime call-stack dump
  - hash map/table

ISSUES
======

- Uniform interface for different APIs is too difficult, and maybe pointless.
  How about a higher level abstraction: material/effect system?

- Do we need embed buffer for short string?

- Custom string class or std::string?
  - RESOLVED: custom string class.
  - WHY?
    - std::string can't accept NULL pointer as valid input.
    - std::char_trait<wchar_t> is not well supported on cygwin.

- TinyXml or Expat w/ DOM wrapper?
  - OPEN.
    - TinyXml:
      - easy to use (DOM)
      - no format output to string buffer
    - Expat
      - may faster then TinyXml
      - need a wrapper to make it easy to use
      - no xml output support
